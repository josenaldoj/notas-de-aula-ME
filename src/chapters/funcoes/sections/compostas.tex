\section{Funções Compostas}

\begin{definition}
Sejam $f: X \to Y$ e $g: U \to V$ duas funções, com $Y \subset U$. A \emph{função composta de $g$ com $f$} é a função denotada por $g \circ f$, com domínio em $X$ e contradomínio em $V$, que a cada elemento $x \in X$ faz corresponder o elemento $v = \prn{g \circ f}(x) = g(f(x)) \in V$. Diagramaticamente,
%
\begin{equation*}
\begin{array}{cccccc}
g \circ f : & X & \to     & Y \subset U & \to & V \\
     &  x & \mapsto & f(x) & \mapsto & g(f(x)).
\end{array}
\end{equation*}
\end{definition}

\begin{center}
     \importtikz{funcao-composta}
\end{center}

\begin{example}
Seja $f: X \to Y$ uma função. Mostre que $f \circ \identity X = f$ e $\identity Y \circ f = f$.
\end{example}

\begin{solution}
Note que o domínio de $f \circ \identity X$ é $X$ já que $X$ é o domínio de $\identity X$. Logo, $f$ e $f \circ \identity X$ têm o mesmo domínio.
Um resultado análogo vale para o contradomínio dessas funções:  $Y$ também é contradomínio de $f \circ \identity X$ pois é o contradomínio de $f$.
Ademais, note que, para qualquer $x \in X$, 
%
\begin{align*}
(f \circ \identity X)\prn x &= f\prn{\identity X \prn x} \text{(definição de composição)} \\ &= f(x) \text{(definição de identidade)}.
\end{align*}
% 
Das igualdades de domínio, contradomínio e lei de associação de $f$ e $f \circ \identity X$, conclui-se que essas funções são iguais.

A demonstração da igualdade $\identity Y \circ f = f$ fica como exercício para o leitor.
\end{solution}

\begin{example}
\label{ex:comp-pq}
Dadas as funções $p$ e $q$ definidas no Exemplo \ref{example:func-sq-sqrt}, qual função resulta da composição $p \circ q$?
\end{example}

\begin{solution}
Pode-se representar a função $p \circ q$ com o seguinte diagrama:
%
\begin{equation*}
\begin{array}{cccccc}
p \circ q : & R_+ & \to     & \R \subset \R & \to     & \R_+ \\
            &  x  & \mapsto & \sqrt x       & \mapsto & \prn{\sqrt x}^2 = x.
\end{array}
\end{equation*}
%
Do diagrama, conclui-se que $p \circ q = \identity{\R_+}$.
\end{solution}

\begin{onlineact}[\khan{https://pt.khanacademy.org/math/algebra2/manipulating-functions/function-composition/e/compose-functions}{Encontre Funções Compostas}]
\end{onlineact}

\begin{onlineact}[\khan{https://pt.khanacademy.org/math/algebra2/manipulating-functions/combining-and-composing-modeling-functions/e/modeling-with-composite-functions}{Modele com Funções Compostas}]
\end{onlineact}